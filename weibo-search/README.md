# 微博爬虫-指定关键词
爬取指定时间区间内，包含指定关键词、话题的原创微博，此代码长期维护，如有疑问欢迎`Issues`

## 代码结构

```python
WeiboClass.py # 主类，需要修改为自己的header
WeiboClassRun.py # 调用类，在其中修改参数并运行
```

## 输入参数

- 关键词列表，元素为`str`格式

  ```python
  keyList = ['北京师范大学','120周年校庆']
  keyList = ['%23北京师范大学120周年校庆%23'] # %23转义后即为#，表示爬取包含话题的微博
  ```

- 时间区间，各位为`YY-mm-dd-hh`

  ```python
  timeBegin = '2022-09-01-0' # 开始时间
  timeEnd = '2022-09-08-10' # 结束时间
  ```

## 调用方式

设置`header`及参数后，直接运行`WeiboClassRun.py`，即可开始爬取工作

## 输出内容

| 名称      | 含义                   |
| --------- | ---------------------- |
| mid       | 微博标识ID，为一串数字 |
| time      | 微博发布时间           |
| nick_name | 微博发布者昵称         |
| content   | 微博内容               |
| 转发数    | 微博转发数             |
| 评价数    | 微博评价数             |
| 点赞数    | 微博点赞数             |

## 注意事项

- `header`中的`cookie`需要登录微博网页版后获取，登录网址为：https://s.weibo.com/
- `cookie`一定之间后会过期，建议每次使用前更新`cookie`
- 由于微博存在显示限制，只会显示时间跨度内最接近现在的30页，或50页，且最低时间跨度单位为小时，故如果某个小时内的数据超过了显示限制，只能获取该小时内的30页、或50页